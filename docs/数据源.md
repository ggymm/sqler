## postgres

### 安装

```shell

# 检查版本
apt-cache search postgresql | grep postgresql-[0-9]

# 安装
sudo apt install postgresql-16

# 启动
sudo systemctl start prostgresql
sudo systemctl enable prostgresql

# 检查
sudo systemctl list-units | grep postgresql
sudo systemctl list-unit-files | grep postgresql

# 状态
sudo ss -nlp | grep 5432
sudo systemctl status postgresql@16-main
sudo systemctl restart postgresql@16-main

```

### 配置

```shell

sudo vim /etc/postgresql/16/main/postgresql.conf
# 修改
# listen_addresses = '*'

sudo vim /etc/postgresql/16/main/pg_hba.conf
# 添加
# host    all             all             0.0.0.0/0               md5

```

### 账号和密码

```shell

# 连接到数据库
# 切换到 postgres 用户 执行 psql 命令
sudo -u postgres psql

# 修改密码
ALTER USER postgres PASSWORD 'postgres';


# 查看所有用户
\du

```

### 数据库和表

```shell

# 创建数据库
CREATE DATABASE testdb;

# 查看所有数据库
\l

```

## mysql

### 安装

```shell

sudo apt show mysql-server
#Package: mysql-server
#Version: 8.0.43-0ubuntu0.24.04.2
#Priority: optional
#Section: database
#Source: mysql-8.0
#Origin: Ubuntu
#Maintainer: Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>
#Original-Maintainer: Debian MySQL Maintainers <pkg-mysql-maint@lists.alioth.debian.org>
#Bugs: https://bugs.launchpad.net/ubuntu/+filebug
#Installed-Size: 42.0 kB
#Depends: mysql-server-8.0
#Homepage: http://dev.mysql.com/
#Task: lamp-server
#Download-Size: 9,516 B
#APT-Sources: https://mirrors.huaweicloud.com/ubuntu-ports noble-updates/main arm64 Packages
#Description: MySQL database server (metapackage depending on the latest version)
# This is an empty package that depends on the current "best" version of
# mysql-server (currently mysql-server-8.0), as determined by the MySQL
# maintainers. Install this package if in doubt about which MySQL
# version you need. That will install the version recommended by the
# package maintainers.
# .
# MySQL is a fast, stable and true multi-user, multi-threaded SQL database
# server. SQL (Structured Query Language) is the most popular database query
# language in the world. The main goals of MySQL are speed, robustness and
# ease of use.
#
#N: There are 2 additional records. Please use the '-a' switch to see them.

sudo apt install -y mysql-server


# sudo systemctl daemon-reload
sudo systemctl start mysql
sudo systemctl status mysql
sudo systemctl enable mysql

sudo ss -nlp | grep 3306

```

### 配置

```shell

sudo mysql

ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';
CREATE USER 'root'@'%' IDENTIFIED BY 'root';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
FLUSH PRIVILEGES;
EXIT;


sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf
# bind-address = 0.0.0.0

```

## mongodb

### 安装

[参考文档](https://www.mongodb.com/zh-cn/docs/manual/administration/install-community)

```shell

# 导入公钥
sudo apt-get install gnupg curl
curl -fsSL https://www.mongodb.org/static/pgp/server-8.0.asc | \
   sudo gpg -o /usr/share/keyrings/mongodb-server-8.0.gpg \
   --dearmor

# 创建镜像源
echo "deb [ arch=amd64,arm64 signed-by=/usr/share/keyrings/mongodb-server-8.0.gpg ] https://repo.mongodb.org/apt/ubuntu noble/mongodb-org/8.2 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-8.2.list

sudo apt update

# 安装
sudo apt install mongodb-org

# 启动
# sudo systemctl daemon-reload
sudo systemctl start mongod
sudo systemctl status mongod
sudo systemctl enable mongod

```

### 配置

```shell

sudo vim /etc/mongod.conf
# 修改
# bindIp: 0.0.0.0

```